<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TicTak</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB"
      crossorigin="anonymous"
    />
    <style>
      .container {
        display: flex;
        flex-wrap: wrap;
        width: 400px;
        gap: 5px;
        padding: 35px;
        margin-top: 135px;
        justify-content: center;
        align-items: center;
      }
      button {
        width: 100px;
        height: 100px;
        font-size: 24px;
        padding: 5px;
        margin-top: 5px;
        margin-left: 5px;
      }
      h1 {
        margin-bottom: 50px;
        margin-left: 7px;
      }
      .X{
        background-color:gray;
      }
       .O{
        background-color:gray;
      }
      .x-color{
        background-color: red;
        color: white;
      }
      .o-color{
        background-color: green;
        color:white;
      }
      .start{
        background-color: rgb(192, 255, 4);
        color: black;
        border-radius: 35px;
        transition: border-radius 0.6s ease, background-color 0.5s ease;
      }
      
    </style>
  </head>
  <body>
      
      <h1 id="xscore" class="text-center result"></h1>
      <h1 id="oscore" class="text-center result"></h1><br><br>
    <div class="container text-center">
<h1>TIKTAK GAME</h1><br><br>
      <button class="tile" id="til1"></button>
      <button class="tile" id="til2"></button>
      <button class="tile" id="til3"></button>
      <button class="tile" id="til4"></button>
      <button class="tile" id="til5"></button>
      <button class="tile" id="til6"></button>
      <button class="tile" id="til7"></button>
      <button class="tile" id="til8"></button>
      <button class="tile" id="til9"></button>
   
    start with 
    <button id="x" class="X">X</button>
    <button id="o" class="O">O</button>

    </div>
   
  </body>
<script src="https://code.jquery.com/jquery-3.7.1.js" ></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script>
    let count = 0;

    function reset() {
      count = 0;
      for (let i = 1; i <= 9; i++) {
        document.getElementById(`til${i}`).innerText = "";
        document.getElementById(`til${i}`).classList.remove("x-color","o-color");
      }
    }

    let xcount = 0;
    let ocount = 0;

    function fire(player) {
      Swal.fire({
        icon: "success",
        title: "Congratulations...",
        text: `Player ${player} has won the game!`,
      });
      if (player == "X") {
        xcount++;
        console.log(xcount);
      } else {
        ocount++;
        console.log(ocount);
      }
      
 document.getElementById("xscore").innerText= `X Wins:-${xcount}`;
 document.getElementById("oscore").innerText=` O Wins:-${ocount}`;
    }

    function wincheck(player) {
      // 1st row
      console.log(player);

      let winflag = true;
      for (let i = 1; i <= 3; i++) {
        let symbol = document.getElementById(`til${i}`).innerText;
        // console.log(symbol);
        if (symbol != player) {
          winflag = false;
          break;
        }
      }
      if (winflag) {
        fire(player);
        return winflag;
      }

      // 2 row
      winflag = true;
      for (let i = 4; i <= 6; i++) {
        let symbol = document.getElementById(`til${i}`).innerText;
        // console.log(symbol);
        if (symbol != player) {
          winflag = false;
          break;
        }
      }
      if (winflag) {
        fire(player);
        return winflag;
      }

      // 3rd row
      winflag = true;
      for (let i = 7; i <= 9; i++) {
        let symbol = document.getElementById(`til${i}`).innerText;
        // console.log(symbol);
        if (symbol != player) {
          winflag = false;
          break;
        }
      }
      if (winflag) {
        fire(player);
        return winflag;
      }

      //  1st column
      winflag = true;
      for (let i = 1; i <= 7; i += 3) {
        let symbol = document.getElementById(`til${i}`).innerText;
        // console.log(symbol);
        if (symbol != player) {
          winflag = false;
          break;
        }
      }
      if (winflag) {
        fire(player);
        return winflag;
      }

      //  2st column
      winflag = true;
      for (let i = 2; i <= 8; i += 3) {
        let symbol = document.getElementById(`til${i}`).innerText;
        // console.log(symbol);
        if (symbol != player) {
          winflag = false;
          break;
        }
      }
      if (winflag) {
        fire(player);
        return winflag;
      }

      //  3st column
      winflag = true;
      for (let i = 3; i <= 9; i += 3) {
        let symbol = document.getElementById(`til${i}`).innerText;
        // console.log(symbol);
        if (symbol != player) {
          winflag = false;
          break;
        }
      }
      if (winflag) {
        fire(player);
        return winflag;
      }

      //  1st cross
      winflag = true;
      for (let i = 1; i <= 9; i += 4) {
        let symbol = document.getElementById(`til${i}`).innerText;
        // console.log(symbol);
        if (symbol != player) {
          winflag = false;
          break;
        }
      }
      if (winflag) {
        fire(player);
        return winflag;
      }

      // 2st cross
      winflag = true;
      for (let i = 3; i <= 7; i += 2) {
        let symbol = document.getElementById(`til${i}`).innerText;
        // console.log(symbol);
        if (symbol != player) {
          winflag = false;
          break;
        }
      }
      if (winflag) {
        fire(player);
        return winflag;
      }

      // console.log(player, winflag, count)

      return false;
    } // function end

    $(document).ready(function () {

 $(".X").on("click",()=>{
  count=0;
  console.log(count);
 document.getElementById('x').classList.add("start") ;
 document.getElementById('o').classList.remove("start") ;
 });  

$('#o').on("click",()=>{
  count=1;
  console.log(count);
document.getElementById('o').classList.add("start") ;
 document.getElementById('x').classList.remove("start") ;
 } );
 

      $(".tile").on("click", function () {

        let tile = this;
        //   tile.innerText = "X";
        //   console.log(tile);

        if (tile.innerText === "") {
          if (count % 2 == 0) {
            tile.innerText = "X";
          // tile.style.backgroundColor="red";
          // tile.style.color="white";
          tile.classList.add("x-color");

          } else {
            tile.innerText = "O";
          //   tile.style.backgroundColor="green";
          // tile.style.color="white";
          tile.classList.add("o-color");
          }

          count++;
        } else {
          Swal.fire({
            title: "you can not overwrite your move?",
            text: "Are you sure you want to reset the game?",
            icon: "warning",
            showCancelButton: true,
            confirmButtonColor: "#3085d6",
            cancelButtonColor: "#d33",
            confirmButtonText: "Start new game!",
            // confirmButtonWidth: '200px',
            // confirmButtonHeight: '120px'
          }).then((result) => {
            if (result.isConfirmed) {
              reset();
            }
          });
        }

        if (count >= 5) {
          let win = wincheck(tile.innerText);
          if (win) {
            reset();
          }
          if (win == false && count == 9) {
            Swal.fire({
              icon: "info",
              title: "Game Draw",
              text: "No one wins the game",
            });
            reset();
          }
        }
      });
    });
  </script>
</html>
